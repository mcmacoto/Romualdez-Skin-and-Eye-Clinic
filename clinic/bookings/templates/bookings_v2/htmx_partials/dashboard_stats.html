{% load static %}

<!-- Stats Grid - Auto-refreshable -->
<div class="stats-grid">
    <!-- Total Appointments -->
    <div class="stat-card" hx-get="{% url 'bookings_v2:htmx_appointments_list' %}" hx-target="#appointmentsModalBody" hx-trigger="click" data-bs-toggle="modal" data-bs-target="#appointmentsModal">
        <div class="stat-icon">
            <i class="fas fa-calendar-check"></i>
        </div>
        <div class="stat-number">{{ total_appointments }}</div>
        <div class="stat-label">Total Appointments</div>
        <div class="stat-hint">Click to view all</div>
    </div>
    
    <!-- Pending Bookings -->
    <div class="stat-card warning" hx-get="{% url 'bookings_v2:htmx_pending_bookings' %}" hx-target="#pendingBookingsContainer" hx-trigger="click" data-bs-toggle="modal" data-bs-target="#pendingBookingsModal">
        <div class="stat-icon">
            <i class="fas fa-clock"></i>
        </div>
        <div class="stat-number">{{ pending_bookings }}</div>
        <div class="stat-label">Pending Bookings</div>
        <div class="stat-hint">Click to manage</div>
    </div>
    
    <!-- Today's Appointments -->
    <div class="stat-card" hx-get="{% url 'bookings_v2:htmx_appointments_list' %}?status=today" hx-target="#appointmentsModalBody" hx-trigger="click" data-bs-toggle="modal" data-bs-target="#appointmentsModal">
        <div class="stat-icon">
            <i class="fas fa-calendar-day"></i>
        </div>
        <div class="stat-number">{{ today_bookings }}</div>
        <div class="stat-label">Today's Appointments</div>
        <div class="stat-hint">Click to view</div>
    </div>
    
    <!-- Total Bookings -->
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-calendar-alt"></i>
        </div>
        <div class="stat-number">{{ total_bookings }}</div>
        <div class="stat-label">Total Bookings</div>
    </div>
    
    <!-- Unpaid Bills -->
    <div class="stat-card warning" hx-get="{% url 'bookings_v2:htmx_unpaid_patients' %}" hx-target="#billingsModalBody" hx-trigger="click" data-bs-toggle="modal" data-bs-target="#billingsModal">
        <div class="stat-icon">
            <i class="fas fa-exclamation-triangle"></i>
        </div>
        <div class="stat-number">{{ unpaid_bills }}</div>
        <div class="stat-label">Unpaid Bills</div>
        <div class="stat-hint">Click to view</div>
    </div>
    
    <!-- Patient Profiles -->
    <div class="stat-card" hx-get="{% url 'bookings_v2:htmx_patients_list' %}" hx-target="#patientsModalBody" hx-trigger="click" data-bs-toggle="modal" data-bs-target="#patientsModal">
        <div class="stat-icon">
            <i class="fas fa-users"></i>
        </div>
        <div class="stat-number">{{ total_patient_profiles }}</div>
        <div class="stat-label">Patient Profiles</div>
        <div class="stat-hint">Click to view</div>
    </div>
    
    <!-- Medical Records -->
    <div class="stat-card" hx-get="{% url 'bookings_v2:htmx_medical_records_list' %}" hx-target="#medicalRecordsModalBody" hx-trigger="click" data-bs-toggle="modal" data-bs-target="#medicalRecordsModal">
        <div class="stat-icon">
            <i class="fas fa-file-medical"></i>
        </div>
        <div class="stat-number">{{ total_medical_records }}</div>
        <div class="stat-label">Medical Records</div>
        <div class="stat-hint">Click to view</div>
    </div>
    
    <!-- Inventory Items -->
    <div class="stat-card" hx-get="{% url 'bookings_v2:htmx_inventory_list' %}" hx-target="#inventoryModalBody" hx-trigger="click" data-bs-toggle="modal" data-bs-target="#inventoryModal">
        <div class="stat-icon">
            <i class="fas fa-boxes"></i>
        </div>
        <div class="stat-number">{{ total_inventory_items }}</div>
        <div class="stat-label">Inventory Items</div>
        <div class="stat-hint">Click to manage</div>
    </div>
    
    <!-- Low Stock Items -->
    {% if low_stock_items > 0 %}
    <div class="stat-card warning" hx-get="{% url 'bookings_v2:htmx_inventory_list' %}?status=low_stock" hx-target="#inventoryModalBody" hx-trigger="click" data-bs-toggle="modal" data-bs-target="#inventoryModal">
        <div class="stat-icon">
            <i class="fas fa-exclamation-circle"></i>
        </div>
        <div class="stat-number">{{ low_stock_items }}</div>
        <div class="stat-label">Low Stock Items</div>
        <div class="stat-hint">Action required</div>
    </div>
    {% endif %}
    
    <!-- Out of Stock Items -->
    {% if out_of_stock_items > 0 %}
    <div class="stat-card danger" hx-get="{% url 'bookings_v2:htmx_inventory_list' %}?status=out_of_stock" hx-target="#inventoryModalBody" hx-trigger="click" data-bs-toggle="modal" data-bs-target="#inventoryModal">
        <div class="stat-icon">
            <i class="fas fa-times-circle"></i>
        </div>
        <div class="stat-number">{{ out_of_stock_items }}</div>
        <div class="stat-label">Out of Stock</div>
        <div class="stat-hint">Urgent action needed</div>
    </div>
    {% endif %}
</div>
