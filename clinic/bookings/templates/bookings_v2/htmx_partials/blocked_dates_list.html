<!-- List of Blocked Dates -->
<div class="table-responsive">
    <table class="table table-hover table-sm align-middle">
        <thead class="table-light">
            <tr>
                <th>Date</th>
                <th>Reason</th>
                <th>Blocked By</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% if blocked_dates %}
                {% for blocked_date in blocked_dates %}
                <tr id="blocked-date-row-{{ blocked_date.id }}">
                    <td>
                        <strong>{{ blocked_date.date|date:"F d, Y" }}</strong>
                        <br>
                        <small class="text-muted">{{ blocked_date.date|date:"l" }}</small>
                    </td>
                    <td>{{ blocked_date.reason|default:"No reason specified" }}</td>
                    <td>
                        {% if blocked_date.created_by %}
                            {{ blocked_date.created_by.get_full_name|default:blocked_date.created_by.username }}
                        {% else %}
                            <span class="text-muted">System</span>
                        {% endif %}
                    </td>
                    <td>
                        <button class="btn btn-outline-danger btn-sm"
                                hx-delete="{% url 'bookings_v2:htmx_delete_blocked_date' blocked_date.id %}"
                                hx-confirm="Are you sure you want to unblock {{ blocked_date.date|date:'F d, Y' }}?"
                                hx-target="#blocked-date-row-{{ blocked_date.id }}"
                                hx-swap="outerHTML swap:1s"
                                title="Unblock">
                            <i class="fas fa-unlock"></i> Unblock
                        </button>
                    </td>
                </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="4" class="text-center text-muted py-4">
                        <i class="fas fa-calendar-check fa-3x mb-3 d-block"></i>
                        No blocked dates
                    </td>
                </tr>
            {% endif %}
        </tbody>
    </table>
</div>
