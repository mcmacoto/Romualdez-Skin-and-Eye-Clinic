{% extends 'bookings_v2/base_v2.html' %}
{% load static %}

{% block title %}Home - Romualdez Skin & Eye Clinic{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section bg-primary text-white py-5" style="background: linear-gradient(135deg, #3d5c3d 0%, #5a7c5a 100%);">
    <div class="container py-5">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <h1 class="display-3 fw-bold mb-4">Welcome to Romualdez Skin & Eye Clinic</h1>
                <p class="lead mb-4">Your trusted partner for comprehensive skin and eye care. Professional treatments with experienced specialists.</p>
                <div class="d-flex gap-3 flex-wrap">
                    <a href="{% url 'bookings_v2:booking' %}" class="btn btn-light btn-lg px-4">
                        <i class="fas fa-calendar-check"></i> Book Appointment
                    </a>
                    <a href="{% url 'bookings_v2:services' %}" class="btn btn-outline-light btn-lg px-4">
                        <i class="fas fa-list"></i> Our Services
                    </a>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <i class="fas fa-clinic-medical" style="font-size: 15rem; opacity: 0.2;"></i>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">Why Choose Us?</h2>
            <p class="text-muted">Exceptional care with modern facilities</p>
        </div>
        
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100 text-center p-4">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-user-md text-primary" style="font-size: 3rem;"></i>
                        </div>
                        <h5 class="card-title fw-bold">Expert Specialists</h5>
                        <p class="card-text text-muted">Board-certified doctors with years of experience in dermatology and ophthalmology.</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100 text-center p-4">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-hospital text-success" style="font-size: 3rem;"></i>
                        </div>
                        <h5 class="card-title fw-bold">Modern Facilities</h5>
                        <p class="card-text text-muted">State-of-the-art equipment and comfortable treatment rooms for your care.</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100 text-center p-4">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-heart text-danger" style="font-size: 3rem;"></i>
                        </div>
                        <h5 class="card-title fw-bold">Personalized Care</h5>
                        <p class="card-text text-muted">Customized treatment plans tailored to your specific needs and conditions.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Services Preview Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">Our Services</h2>
            <p class="text-muted">Comprehensive skin and eye care solutions</p>
        </div>
        
        <!-- HTMX: Load services dynamically -->
        <div id="services-preview" 
             hx-get="{% url 'bookings_v2:htmx_services_preview' %}"
             hx-trigger="load"
             hx-indicator="#services-loading">
            <!-- Loading state -->
            <div id="services-loading" class="text-center py-5">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading services...</span>
                </div>
                <p class="mt-3 text-muted">Loading our services...</p>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a href="{% url 'bookings_v2:services' %}" class="btn btn-primary btn-lg">
                View All Services <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-5 bg-primary text-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 mb-3 mb-lg-0">
                <h3 class="fw-bold mb-2">Ready to take care of your skin and eyes?</h3>
                <p class="mb-0">Book an appointment today and experience professional care.</p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <a href="{% url 'bookings_v2:booking' %}" class="btn btn-light btn-lg">
                    <i class="fas fa-calendar-plus"></i> Book Now
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section with Alpine.js -->
<section class="py-5">
    <div class="container">
        <div class="row text-center g-4" x-data="{ 
            patients: 0, 
            appointments: 0, 
            years: 0,
            animateNumbers() {
                const duration = 2000;
                const targetPatients = 500;
                const targetAppointments = 1200;
                const targetYears = 15;
                
                const start = Date.now();
                const animate = () => {
                    const elapsed = Date.now() - start;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    this.patients = Math.floor(targetPatients * progress);
                    this.appointments = Math.floor(targetAppointments * progress);
                    this.years = Math.floor(targetYears * progress);
                    
                    if (progress < 1) requestAnimationFrame(animate);
                };
                animate();
            }
        }" x-init="animateNumbers()">
            <div class="col-md-4">
                <div class="p-4">
                    <h2 class="display-4 fw-bold text-primary" x-text="patients + '+'"></h2>
                    <p class="text-muted">Happy Patients</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-4">
                    <h2 class="display-4 fw-bold text-success" x-text="appointments + '+'"></h2>
                    <p class="text-muted">Appointments Completed</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-4">
                    <h2 class="display-4 fw-bold text-info" x-text="years + '+'"></h2>
                    <p class="text-muted">Years of Service</p>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
.htmx-indicator {
    display: none;
}
.htmx-request .htmx-indicator {
    display: inline-block;
}
.htmx-request.htmx-indicator {
    display: inline-block;
}
</style>
{% endblock %}

